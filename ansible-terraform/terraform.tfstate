{
  "version": 4,
  "terraform_version": "1.8.0",
  "serial": 675,
  "lineage": "8d6f47e2-4042-6223-fff9-ed6ca53e5e05",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "create_vm",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2579115932058573527",
            "triggers": {
              "always_run": "2024-10-24T03:09:05Z"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.cloudinit.local_file.cloudinit_cfg",
            "module.cloudinit.null_resource.output",
            "module.cloudinit_image.local_file.cloudinit_img",
            "module.network.null_resource.start_network",
            "module.resize_disk.null_resource.copy_and_resize_image"
          ]
        }
      ]
    },
    {
      "module": "module.check_vm_status",
      "mode": "managed",
      "type": "null_resource",
      "name": "check_vms",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "6090919799605101842",
            "triggers": {
              "vm_ips": "172.20.134.168"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.cloudinit.local_file.cloudinit_cfg",
            "module.cloudinit.null_resource.output",
            "module.cloudinit_image.local_file.cloudinit_img",
            "module.network.null_resource.start_network",
            "module.resize_disk.null_resource.copy_and_resize_image",
            "null_resource.create_vm"
          ]
        }
      ]
    },
    {
      "module": "module.cloudinit[0]",
      "mode": "managed",
      "type": "local_file",
      "name": "cloudinit_cfg",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#cloud-config\nhostname: t7\n\nusers:\n  - name: userlocal\n    groups: sudo\n    shell: /bin/bash\n    ssh-authorized-keys:\n          - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCYj3FpEhgXHvh6KaZSkRLGI/eXxKKtYJJav6v230GisjVFRaeEeDo46NdDygLNJPSVRFYKF35b+HJhIZ+g/MxKuvmgB3nC8Pfde21elPgk3hdhjy7yH0Q9rJ8clZQO1XjnpU4Hnwca9/NnZvmTC1Ou4PRTcfRgNkgVI6Q7F8IcAmdxKypsu18yKXdfUpjoxNqScZwxbYDjJ36eSDAxwTQDzVD+ukAKuxCzStay+oBCnsbj4jCbz1gPTnJPqvHOxfNKjPvKeiwzsjx0fw823LJPRsmU2UcNo9CJiA+9pP9bJpBJ2Ne0i0qWhN+XdmMAUiMobRq4K4SY2+IpWrOdbm75ukFVbwrXOn5hJqrog2puPHxBksopiolHzJkK6ksX2der/frh4pZTeI1Sbm2CeLvYAYqELLG1urs4mE0R0LisOeyWwMtCPbKU8SoYhPKjjEfm2WKIB/en4yRO0fACSYnnk6lYgIUk5/nAOBsh3ZPL73ag4cTNlbVn7fALq5zOl9M= root@test-oom \n          - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAW1/zrmHe6pnozA4jR4xMSVOAjA7CDVIdpodHdnr1PD caojianfeng@outlook.com \n          - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCoFEIKy2i6d38wIOyoSUVG2lVf74vdmJ5zQRw6TnOqonkjnV3+uU5iEI+LhEemEsHTa9nXPKI26uhjTDtqtt5QucMEtGQT6AIQ+JMrwJBGmL5I3UzQSqMW3P/If3QkhgnqCYiF2sz+RRnvA+lD5zlkSYS9mrKKc9ug9ggRXgbjVuFhQDwjPej9stYOc2exla7waReTlCN3Q1rr27Mq9JxGwsE1CN+sYZ7QVPJTG9WlsLwAJzdfR+yZ+voKfEcUb9jKXCfShVWY8tM4f2RyDE6tcafIT5YdauFs6OG1dM00/LV9F5BPQfdv1TBmiVDyGpTuRU7MlL7TgJbGLWY8AUqtOHbBeMoZR+bAJZRMi0uPHGhGlJ1WtV6NuCBE20/l7KgK4o+av+xM2G0BdGridAjR/Rw6FvgTVzpH6j61lfkQlmnA3MREiKiC1gBt9I7lQwkNgRbDxBlfnrS7KjqTBR/pZTYQallpgjsPvo+cXHLlpSYGDmXSskQwqB1TN+940l8= limol@Frank-ThinkPad \n          - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCgj+lwu7nQkNsPwoulYKgcbkZ8PzYP04OJNnKnWL/hQODzrfVU5iGQAV7J4XBgIP+m12tzoTqFb6bBfudWj3FIZQItcWMo4lucyEnlULbmmojodCA/lDKqEPqfglNyw1rhj1CYrbVvcM28oF/DXAtEz79NOEpWqLbU0flJmNqeAVu5/RCCMisiiNlnCHsFWBQeuVfyaRi8WHNt3X+5pw08hVg7gF9iup8Pnw72MN7yPOv9U0RWuYeVuXsl41ucfahc9Dgtq+JOTHySGDNvJhuDE9tLwNfMeek2NhdNOEWysGIuJaQsBYBjCDNd0qyALi2QPsrarrd8A8mz0tni/Lt0qBKxRA8oQCpP/kOrFIiw+Q9Se6JAXcOTAhRrkVwc8VxlhcjcPWBMZ11pRFdiIvwsb0W/pgplhvTSmLFwbqMinIg2UWJ25mNFawWh+FaoxkAsZ+WAXIrCenr8aS+cQUSpXRsvFPPMWhuMjppyzdXhCeX7EgqsQFmrbesqhC1C1Z0= root@cicd-kvm-node1 \n    \n  - name: root\n    groups: sudo\n    shell: /bin/bash\n    password: 121212\n    chpasswd: { expire: False }\n    ssh_pwauth: True\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n     userlocal:HTuser123\n     root:121212\n  expire: False\nssh_pwauth: true\ntimezone: Asia/Shanghai\n\npackages:\n  - vim\n  - net-tools\n  - curl\n\n\n#cloud-config\n\nwrite_files:\n  - path: /etc/netplan/50-cloud-init.yaml\n    content: |\n      # This file is generated from information provided by the datasource.  Changes\n      # to it will not persist across an instance reboot.  To disable cloud-init's\n      # network configuration capabilities, write a file\n      # /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following:\n      # network: {config: disabled}\n      network:\n        ethernets:\n            enp1s0:\n                dhcp4: false\n                addresses:\n                  - 172.20.134.168/24  # 替换为您的静态IP和子网掩码\n                gateway4: 172.20.134.254 # 替换为您的网关IP\n                nameservers:\n                  addresses: [\"172.30.5.10\"]  # 替换为您的DNS服务器地址\n                match:\n                    name: enp1s0\n                set-name: enp1s0\n        version: 2\n\nruncmd:\n  - netplan apply\n\n\n",
            "content_base64": null,
            "content_base64sha256": "GqDFglfkbbZamEUOGdFaaWInL+V1VJUDuqLg3+4/vbg=",
            "content_base64sha512": "W9B1mNtqDsvq/u/NKPQd+V5/b/7yf+alI6Z5R69pQmV8PN1O4/raM8FKU1GUr6M7oVrehCImS0nLdT8gxzDhKg==",
            "content_md5": "20a3db24f1c0cd3c8264a7617f0c34c4",
            "content_sha1": "d115007c927ab9604c053728d57a983b83bec34a",
            "content_sha256": "1aa0c58257e46db65a98450e19d15a6962272fe575549503baa2e0dfee3fbdb8",
            "content_sha512": "5bd07598db6a0ecbeafeefcd28f41df95e7f6ffef27fe6a523a67947af6942657c3cdd4ee3fada33c14a535194afa33ba15ade8422264b49cb753f20c730e12a",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "cloudinit/cloudinit_config/t7.cfg",
            "id": "d115007c927ab9604c053728d57a983b83bec34a",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ]
        }
      ]
    },
    {
      "module": "module.cloudinit[0]",
      "mode": "managed",
      "type": "null_resource",
      "name": "output",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "6607419163821270191",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.cloudinit.local_file.cloudinit_cfg"
          ]
        }
      ]
    },
    {
      "module": "module.cloudinit_image[0]",
      "mode": "managed",
      "type": "local_file",
      "name": "cloudinit_img",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "",
            "content_base64": null,
            "content_base64sha256": "47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU=",
            "content_base64sha512": "z4PhNX7vuL3xVChQ1m2AB9Yg5AULVxXcg/SpIdNs6c5H0NE8XYXysP+DGNKHfuwvY7kxvUdBeoGlODJ6+SfaPg==",
            "content_md5": "d41d8cd98f00b204e9800998ecf8427e",
            "content_sha1": "da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "content_sha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
            "content_sha512": "cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a921d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927da3e",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "modules/cloudinit_img/t7_cloudinit.img",
            "id": "da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "dependencies": [
            "module.cloudinit.local_file.cloudinit_cfg",
            "module.cloudinit.null_resource.output"
          ]
        }
      ]
    },
    {
      "module": "module.resize_disk[0]",
      "mode": "managed",
      "type": "null_resource",
      "name": "copy_and_resize_image",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "8517185768790477161",
            "triggers": {
              "additional_size": "10",
              "base_image_path": "/home/userlocal/cloud-img/jammy-server-cloudimg-amd64.img",
              "new_image_path": "/data/base/qcow2/t7.qcow2"
            }
          },
          "sensitive_attributes": []
        }
      ]
    }
  ],
  "check_results": null
}
